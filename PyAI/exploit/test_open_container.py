#!/usr/bin/python
from cProfile import label
from json import load
import sys,inspect,os
import numpy as np
import matplotlib.pyplot as plt

currentdir = os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe())))
parentdir = os.path.dirname(currentdir)
sys.path.insert(0, parentdir) 

from pyai.base.file_toolbox import save_flexible,load_flexible
from pyai.layer.layer_learn import MemoryDecayType
from pyai.model.active_model import ActiveModel
from pyai.model.active_model_container import ActiveModelSaveContainer
from pyai.model.active_model_save_manager import ActiveSaveManager as ASM

from pyai.models_neurofeedback.climb_stairs import nf_model,evaluate_container
from pyai.model.metrics import flexible_kl_dir
from pyai.base.function_toolbox import normalize
import time as t

if __name__=="__main__":
    savepath = os.path.join("C:",os.sep,"Users","annic","Desktop","Phd","cluster_results","Individual_trials")
    filename = "000000007_f"

    cont = load_flexible(os.path.join(savepath,filename))

    print(cont.a_,cont.A_)
    print(flexible_kl_dir(normalize(cont.a_),cont.A_,option='centered'))